<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LiqDex-Swap – High Volume Solana Token Swap & Meme Coins</title>
<link rel="icon" href="logo.png" type="image/png">
<meta name="description" content="LiqDex-Swap – Browse high-volume Solana tokens, new meme coins, and swap instantly using Jupiter API. Connect Phantom, Solflare, or Backpack wallets safely.">
<style>
body { font-family:'Inter',sans-serif; background:#f5f5f5; margin:0; padding:0; }
header { background:#0f172a; color:#f5f5f5; text-align:center; padding:20px 0; }
header h1 { margin:0; font-size:2rem; } header p { margin:5px 0 0; font-size:1rem; color:#a1a1aa; }
main { max-width:1400px; margin:20px auto; padding:0 20px; }
#swap-container { background:#fff; padding:30px; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.1); margin-bottom:30px; overflow-x:auto; }
h2 { text-align:center; margin-bottom:20px; color:#0f172a; }
#token-table { width:100%; border-collapse:collapse; margin-top:15px; min-width:1200px; }
#token-table th, #token-table td { border:1px solid #e5e7eb; padding:10px; text-align:center; font-size:0.9rem; }
#token-table th { background:#0f172a; color:#fff; }
#search, #sol-input { width:100%; padding:10px; margin-bottom:15px; border-radius:8px; border:1px solid #e5e7eb; font-size:1rem; }
button { padding:6px 10px; border:none; border-radius:6px; background:#0f172a; color:white; cursor:pointer; font-size:0.9rem; }
button:hover { background:#1e293b; }
footer { text-align:center; margin-top:50px; padding:15px 0; font-size:0.9rem; color:#6b7280; }
.fee-info, #estimated { text-align:center; margin-bottom:15px; font-size:0.95rem; color:#1e293b; }
.meme-label { color:#e11d48; font-weight:bold; }
</style>
</head>
<body>

<header>
<h1>LiqDex-Swap</h1>
<p>Browse & Swap High-Volume Solana Tokens & Meme Coins</p>
</header>

<main>
<div id="swap-container">
<h2>LiqDex-Swap – Token Dashboard & Swap</h2>

<p class="fee-info">Platform fee: $0.30 per swap (network & liquidity fees not included)</p>

<input type="text" id="search" placeholder="Search token by name, symbol, or contract address">

<input type="number" id="sol-input" placeholder="Enter amount in SOL to estimate token amount">
<p id="estimated"></p>

<table id="token-table">
<thead>
<tr>
<th>Symbol</th>
<th>Name</th>
<th>Contract Address</th>
<th>Price (USD)</th>
<th>24h Volume</th>
<th>Liquidity</th>
<th>Change 24h</th>
<th>MEME</th>
<th>Swap</th>
</tr>
</thead>
<tbody id="token-body">
<tr><td colspan="9">Loading tokens...</td></tr>
</tbody>
</table>

<div id="jupiter-swap" style="margin-top:20px;"></div>
</div>
</main>

<footer>
&copy; 2026 LiqDex-Swap. All swaps executed via Jupiter API. Platform fee applies.
</footer>

<script src="https://jup.ag/widget.js"></script>
<script>
const PLATFORM_FEE_USD = 0.30;
let tokensData = [];

// Fetch tokens from Jupiter API
async function fetchTokens() {
    try {
        const response = await fetch("https://quote-api.jup.ag/v1/tokens");
        const data = await response.json();

        // Filter high-volume & liquidity ≥ $10,000
        tokensData = data.tokens.filter(t => t.liquidity && t.liquidity >= 10000);

        displayTokens(tokensData);
    } catch(err) {
        console.error("Error loading tokens", err);
        document.getElementById("token-body").innerHTML = "<tr><td colspan='9'>Failed to load tokens</td></tr>";
    }
}

// Display tokens in table
function displayTokens(tokens) {
    const tbody = document.getElementById("token-body");
    tbody.innerHTML = "";
    tokens.forEach(token => {
        const row = document.createElement("tr");

        const swapBtn = document.createElement("button");
        swapBtn.textContent = "Swap";
        swapBtn.onclick = () => initSwap(token.address);

        // Determine if token is a meme coin
        const isMeme = /meme/i.test(token.name) || /meme/i.test(token.symbol);
        const memeLabel = isMeme ? '<span class="meme-label">MEME</span>' : '';

        row.innerHTML = `
        <td>${token.symbol}</td>
        <td>${token.name}</td>
        <td>${token.address}</td>
        <td>${token.price ? "$"+parseFloat(token.price).toFixed(4) : "-"}</td>
        <td>${token.volumeUsd24h ? "$"+parseInt(token.volumeUsd24h).toLocaleString() : "-"}</td>
        <td>${token.liquidity ? "$"+parseInt(token.liquidity).toLocaleString() : "-"}</td>
        <td>${token.priceChangePct24h ? (token.priceChangePct24h*100).toFixed(2)+"%" : "-"}</td>
        <td>${memeLabel}</td>
        `;
        const tdSwap = document.createElement("td");
        tdSwap.appendChild(swapBtn);
        row.appendChild(tdSwap);

        tbody.appendChild(row);
    });

    updateEstimate();
}

// Initialize Jupiter Swap Widget
function initSwap(outputToken) {
    if(!confirm(`You will be charged $${PLATFORM_FEE_USD} platform fee. Proceed?`)) return;

    JupiterWidget.init({
        element: '#jupiter-swap',
        platformFeeBps: 30, // 0.3%
        platformFeeAccount: '33LGNbhTCADQiNwj1CPZrfNfhe6xrJucEV4oxV39PGwg', // <-- Your SOL wallet
        defaultInputToken: 'SOL',
        defaultOutputToken: outputToken,
        theme: 'light',
        showOnlyHighLiquidity: true,
        containerStyle: { borderRadius:'12px', border:'1px solid #e5e7eb', padding:'15px' }
    });
}

// Search/filter tokens
document.getElementById("search").addEventListener("input", (e) => {
    const term = e.target.value.toLowerCase();
    const filtered = tokensData.filter(t => 
        t.symbol.toLowerCase().includes(term) || 
        t.name.toLowerCase().includes(term) || 
        t.address.toLowerCase().includes(term)
    );
    displayTokens(filtered);
});

// SOL input estimation
const solInput = document.getElementById("sol-input");
solInput.addEventListener("input", updateEstimate);

function updateEstimate() {
    const solAmount = parseFloat(solInput.value);
    if(isNaN(solAmount) || solAmount <= 0) {
        document.getElementById("estimated").textContent = "";
        return;
    }

    const selectTerm = document.getElementById("search").value.toLowerCase();
    const token = tokensData.find(t => 
        t.symbol.toLowerCase() === selectTerm ||
        t.name.toLowerCase() === selectTerm
    ) || tokensData[0];

    if(!token || !token.price) {
        document.getElementById("estimated").textContent = "";
        return;
    }

    const solPriceUSD = tokensData.find(t=>t.symbol==='SOL')?.price || 20;
    const usdAmount = solAmount * solPriceUSD - PLATFORM_FEE_USD;
    const tokenAmount = usdAmount / token.price;

    document.getElementById("estimated").textContent = `With ${solAmount} SOL, you can buy approx ${tokenAmount.toFixed(4)} ${token.symbol} (after $${PLATFORM_FEE_USD} fee)`;
}

fetchTokens();
</script>

</body>
</html>
